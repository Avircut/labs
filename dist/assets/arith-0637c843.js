import{$ as p}from"./jquery-2beb4599.js";let n=o=>{let b=p("#probs").val().split(";"),f=new Map,s=0,i=0;b.forEach(t=>{let e=t.split("-"),l=parseFloat(e[1]);i=1-l-s,f.set(e[0],{prob:l,probBefore:s,probAfter:i}),s+=l});let c=0,r=1;for(let t=0;t<o.length;t++){let e=c;c+=f.get(o.charAt(t)).probBefore*(r-e),r-=f.get(o.charAt(t)).probAfter*(r-e)}return`${c}`},d=o=>{let b=p("#probs").val().split(";"),f=new Map,s=0,i=0,c="";b.forEach(e=>{let l=e.split("-"),a=parseFloat(l[1]);i=1-a-s,f.set(l[0],{prob:a,probBefore:s,probAfter:i}),s+=a});let r=parseFloat(o),t=0;for(;r>=1e-5&&(f.forEach((e,l)=>{r>=e.probBefore&&r<1-e.probAfter&&(console.log(`(${r} - ${e.probBefore}) / ${e.prob} = ${(r-e.probBefore)/e.prob}`),r=(r-e.probBefore)/e.prob,c+=l)}),++t!=100););return c};p("#encode").on("click",()=>{let o=p("#source").val(),b=n(o);p("#result").val(b)});p("#decode").on("click",()=>{let o=p("#source").val(),b=d(o);p("#result").val(b)});
